import React from "react";
import AppBar from "@material-ui/core/AppBar";
import Toolbar from "@material-ui/core/Toolbar";
import Typography from "@material-ui/core/Typography";
import { makeStyles } from '@material-ui/styles';
import Link from "@material-ui/core/Link";
import MenuIcon from '@material-ui/icons/Menu';
import { Hidden, IconButton } from '@material-ui/core';
import {Button} from "react-bootstrap";

const useStyles = makeStyles(theme => ({
    root: {
        boxShadow: 'none'
    },
    flexGrow: {
        flexGrow: 1
    }
}));

const theme = {
    spacing: 8,
}

function LoginLink() {
    if((sessionStorage.getItem('isLogged') == 'false') || (sessionStorage.getItem('isLogged') == null)){
        return (<Link href={"/login"} color={"inherit"}>
            Login
        </Link>);
    }
    else{
        return (<Link onClick={setLogOff} href={'/'} color={'inherit'}>
            Logout
        </Link>);
    }
}

function setLogOff() {
    sessionStorage.clear();
   // window.location.href = '/';

}

const Navbar = (props) => {
    const classes = useStyles();
    const { onSidebarOpen } = props;

    return (
        <div>
            <AppBar position={"static"}>
                <Toolbar>
                    <Hidden lgUp>
                        <IconButton
                            color="inherit"
                            onClick={onSidebarOpen}
                        >
                            <MenuIcon />
                        </IconButton>
                    </Hidden>
                    <Typography variant="subtitle1" color="inherit">
                        <Link href={"/"} color={"inherit"}>
                            Mi puno radimo
                        </Link>
                    </Typography>
                    <svg version="1.0" xmlns="http://www.w3.org/2000/svg"
                    width="40" height="30" viewBox="0 0 1280.000000 826.000000"
                    preserveAspectRatio="xMidYMid meet">
                    <g transform="translate(0.000000,826.000000) scale(0.100000,-0.100000)"
                    fill="#000000" stroke="none">
                    <path d="M10599 8256 c-3 -3 -42 -13 -86 -21 -45 -9 -112 -28 -150 -44 -172
                    -72 -363 -167 -456 -228 -107 -70 -227 -162 -227 -173 0 -7 -94 -90 -229 -203
                    -25 -22 -52 -51 -60 -65 -7 -15 -28 -43 -45 -62 -18 -19 -45 -53 -61 -75 -31
                    -42 -87 -111 -144 -177 -60 -69 -149 -112 -335 -162 -193 -53 -285 -91 -509
                    -211 -192 -102 -331 -193 -429 -277 -40 -35 -102 -80 -138 -99 -77 -41 -234
                    -184 -600 -549 l-255 -255 -110 -49 c-200 -90 -247 -116 -312 -176 -96 -88
                    -149 -104 -452 -134 -126 -13 -146 -18 -274 -70 -192 -77 -347 -173 -452 -281
                    -65 -68 -88 -81 -179 -109 -42 -13 -92 -36 -110 -50 -19 -14 -75 -77 -125
                    -140 -91 -113 -93 -115 -172 -146 -65 -27 -96 -48 -169 -114 -49 -44 -111
                    -108 -139 -141 -28 -33 -56 -67 -63 -75 -7 -8 -13 -24 -13 -35 0 -15 -13 -24
                    -53 -39 -29 -10 -70 -36 -92 -57 -23 -22 -67 -49 -107 -65 -64 -25 -137 -66
                    -89 -50 52 18 110 26 119 17 15 -15 0 -28 -61 -51 -66 -25 -169 -87 -229 -139
                    -106 -92 -140 -118 -197 -149 -34 -18 -50 -31 -36 -28 32 6 101 -9 80 -17 -8
                    -3 -58 -20 -110 -37 -113 -38 -251 -125 -291 -184 -18 -27 -44 -47 -85 -66
                    -32 -15 -99 -59 -149 -99 -80 -65 -92 -79 -110 -129 -11 -30 -27 -58 -35 -63
                    -89 -45 -291 -139 -310 -144 -25 -8 -91 -39 -250 -119 -47 -24 -131 -58 -188
                    -75 -93 -30 -110 -39 -185 -102 -80 -68 -133 -106 -196 -141 -25 -14 -30 -22
                    -26 -41 5 -19 -6 -36 -59 -91 -51 -52 -66 -75 -66 -97 0 -27 2 -29 43 -29 23
                    0 92 15 152 34 205 65 559 174 670 206 61 18 171 52 247 76 75 24 162 50 195
                    58 32 7 145 39 251 71 106 31 196 54 200 51 14 -14 -262 -230 -411 -323 -16
                    -10 -62 -39 -103 -65 -42 -25 -86 -49 -100 -52 -47 -12 -200 -120 -269 -190
                    -38 -40 -108 -103 -155 -141 -144 -118 -220 -195 -220 -223 0 -21 3 -23 25
                    -18 14 3 71 37 128 75 57 38 140 87 184 110 45 22 123 66 175 97 158 96 860
                    444 896 444 24 0 11 -17 -56 -71 -37 -30 -96 -81 -132 -114 -36 -33 -130 -114
                    -209 -180 -134 -112 -181 -166 -181 -208 0 -8 10 -26 21 -41 l21 -27 -23 -26
                    c-13 -14 -73 -64 -134 -111 -134 -105 -225 -184 -375 -326 -63 -60 -158 -144
                    -210 -186 -110 -89 -474 -465 -465 -479 3 -6 55 -10 118 -9 l112 1 104 48
                    c101 48 237 139 455 306 99 76 136 96 136 75 0 -14 -148 -149 -315 -287 -52
                    -43 -135 -122 -370 -351 -55 -54 -198 -262 -189 -276 3 -4 25 -8 49 -8 40 0
                    49 6 122 73 122 113 184 167 194 167 21 0 5 -25 -64 -98 -72 -76 -124 -142
                    -112 -142 18 0 78 40 145 95 41 34 90 67 108 73 40 14 81 42 150 105 58 53 95
                    71 123 62 32 -10 22 -44 -35 -119 -29 -39 -63 -89 -75 -111 -20 -38 -28 -75
                    -15 -75 4 0 39 29 79 65 76 67 101 80 92 45 -3 -11 -2 -20 1 -20 4 0 83 74
                    176 165 93 91 171 163 173 161 3 -2 -1 -14 -7 -26 -9 -18 -9 -24 0 -30 7 -4
                    10 -17 8 -28 -7 -24 146 105 201 169 18 22 61 58 95 81 33 22 102 73 151 113
                    50 39 106 82 125 95 19 13 63 47 97 76 45 38 82 59 140 78 62 21 92 39 149 89
                    40 34 97 92 128 128 84 101 215 219 371 335 267 199 301 229 357 313 64 94
                    137 161 178 161 22 0 61 30 189 145 l160 144 138 44 c206 66 310 112 479 213
                    29 16 35 17 60 4 16 -8 44 -13 62 -11 45 4 51 -20 18 -69 -28 -43 -17 -54 20
                    -19 31 29 45 21 83 -45 47 -84 121 -126 199 -111 27 5 50 20 84 58 26 28 50
                    48 54 44 3 -3 -1 -26 -9 -51 -9 -26 -12 -46 -8 -46 15 0 113 71 191 137 105
                    90 185 140 243 153 27 6 88 30 136 55 97 50 103 52 121 30 16 -19 49 -19 56 0
                    4 8 15 15 25 15 14 0 19 -7 19 -28 0 -18 10 -38 26 -53 26 -24 84 -139 84
                    -166 0 -8 7 -21 15 -29 8 -9 15 -24 15 -34 0 -10 25 -41 56 -69 33 -31 52 -55
                    48 -62 -4 -7 -3 -9 3 -6 14 9 88 -28 110 -55 10 -13 34 -31 53 -41 69 -34 150
                    -95 150 -112 0 -6 -18 -22 -41 -34 -53 -30 -43 -37 21 -16 28 9 62 14 76 11
                    13 -4 106 -86 206 -184 176 -173 287 -302 315 -370 8 -19 26 -38 42 -45 15 -7
                    50 -41 77 -77 45 -60 53 -65 97 -72 29 -4 59 -17 79 -33 17 -14 52 -37 77 -50
                    85 -43 145 -120 197 -257 60 -154 62 -273 9 -440 -10 -32 -16 -60 -13 -63 3
                    -3 23 1 44 10 42 16 76 62 113 148 40 93 77 73 86 -46 18 -252 17 -298 -6
                    -371 -20 -62 -32 -81 -98 -148 -41 -43 -70 -78 -64 -78 22 0 153 71 188 101
                    21 19 46 52 56 76 19 44 59 245 59 298 0 16 7 50 16 75 14 41 14 49 -2 98 -13
                    42 -15 77 -11 156 7 134 42 226 88 226 19 0 49 -36 49 -58 0 -8 11 -27 25 -44
                    45 -54 30 -173 -29 -227 -14 -14 -26 -28 -26 -33 0 -10 142 60 153 76 12 16 2
                    235 -12 270 -13 32 -1 56 29 56 33 0 53 -49 61 -148 8 -114 20 -132 48 -71 11
                    24 22 52 25 62 3 10 12 17 19 14 15 -5 13 -118 -4 -189 -8 -34 -8 -61 0 -98
                    21 -100 15 -158 -28 -247 -22 -45 -46 -85 -54 -90 -29 -17 -130 -113 -125
                    -118 11 -12 105 29 164 71 96 68 151 166 174 311 6 37 15 82 21 99 5 17 6 45
                    3 62 -3 16 -1 45 5 64 6 18 15 69 19 113 10 91 8 98 -62 191 -25 34 -63 89
                    -84 124 -30 50 -51 71 -101 102 -76 46 -171 126 -171 143 0 8 -12 23 -27 35
                    -25 20 -35 21 -106 15 -140 -13 -240 -10 -267 7 -14 9 -39 19 -56 23 -18 3
                    -40 16 -50 27 -11 12 -41 36 -69 54 -27 18 -87 70 -132 116 -44 46 -153 156
                    -242 246 -89 90 -161 169 -161 175 1 15 178 145 350 256 75 48 180 125 234
                    170 107 90 276 205 370 253 32 16 96 54 141 84 45 30 85 54 89 54 3 0 6 -9 6
                    -20 0 -17 7 -20 44 -20 36 0 57 9 118 49 103 69 148 111 231 209 98 118 217
                    241 267 277 23 17 57 43 76 58 22 19 40 27 53 22 16 -5 22 3 38 52 14 40 26
                    59 39 62 10 1 26 9 35 17 9 8 23 12 32 9 11 -5 17 2 22 26 10 47 55 111 74
                    107 34 -7 52 36 49 114 l-3 73 35 0 c28 0 36 -4 38 -21 3 -25 39 -61 49 -51 3
                    4 1 24 -5 44 -5 21 -9 72 -8 113 1 74 2 76 63 167 147 220 253 436 253 516 0
                    30 13 47 118 148 139 134 228 260 292 414 23 55 54 127 70 160 33 68 52 137
                    75 275 9 52 23 113 32 135 36 88 32 181 -18 430 -6 33 -13 74 -14 90 -2 17 -4
                    33 -4 37 -1 3 -17 28 -37 53 -23 31 -42 72 -55 121 -20 77 -18 96 15 124 9 7
                    16 23 16 37 0 13 7 26 15 29 8 3 17 25 21 49 3 24 13 46 21 49 8 3 11 11 8 16
                    -14 23 4 59 33 62 22 2 26 7 24 27 -3 16 1 22 10 19 7 -3 14 -17 16 -31 2 -16
                    9 -27 19 -27 11 0 14 6 8 23 -12 40 -11 62 5 62 8 0 30 8 48 18 27 15 83 20
                    320 33 263 13 543 42 558 57 3 3 -25 22 -62 42 -38 20 -93 51 -123 70 -37 23
                    -83 40 -150 55 -162 36 -180 53 -64 66 130 13 435 -46 488 -96 22 -20 45 -26
                    45 -12 0 5 -14 34 -31 65 -104 193 -391 364 -689 411 -52 8 -167 20 -255 26
                    -250 18 -285 31 -466 167 -130 98 -294 189 -399 221 -74 23 -349 59 -361 48z
                    m144 -4197 c-8 -8 -14 -6 -22 9 -13 25 -2 37 18 17 11 -11 12 -18 4 -26z
                    m-6563 -58 c0 -12 -39 -25 -48 -16 -7 7 17 25 36 25 6 0 12 -4 12 -9z m-2210
                    -1541 c0 -12 -31 -18 -87 -18 -48 1 -58 14 -15 21 54 8 102 7 102 -3z m6278
                    -142 c-7 -19 -38 -22 -38 -4 0 10 9 16 21 16 12 0 19 -5 17 -12z m-5428 -1198
                    c0 -5 -5 -10 -11 -10 -5 0 -7 5 -4 10 3 6 8 10 11 10 2 0 4 -4 4 -10z"/>
                    </g>
                    </svg>

                    <div className={classes.flexGrow} />
                    <span className={"AddRightMargin"}></span>
                    <Typography variant="subtitle1" color={"inherit"}>
                        <LoginLink></LoginLink>
                    </Typography>
                </Toolbar>
            </AppBar>
        </div>
    )
}

export default Navbar;